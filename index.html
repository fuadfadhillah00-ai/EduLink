<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDULINK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; }
        
        /* Main page visibility */
        .main-content > .page { display: none; }
        .main-content > .page.active { display: block; }

        /* New Auth Page Transition Styles */
        #authContainer { position: relative; width: 100vw; height: 100vh; }
        .auth-page {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
            visibility: hidden;
        }
        .auth-page.active {
            opacity: 1;
            pointer-events: auto;
            visibility: visible;
        }

        .sidebar-link.active { background-color: #0ea5e9; color: white; font-weight: 600; }
        .sidebar-link.active i { color: white; }
        .form-select {
            -webkit-appearance: none; -moz-appearance: none; appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
            background-repeat: no-repeat; background-position: right 0.75rem center; background-size: 1.25em;
        }
        .feature-card { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .feature-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(14, 165, 233, 0.1), 0 4px 6px -2px rgba(14, 165, 233, 0.05); }
        #app-wrapper.feature-view nav { display: none; }
        #app-wrapper.feature-view main { padding: 0; }
        .custom-notification { transition: opacity 0.3s, transform 0.3s; }
        #shareModal, #profileModal { transition: opacity 0.3s ease; }
        .modal-content { transition: transform 0.3s ease; }
    </style>
</head>
<body class="bg-slate-100">

    <!-- Auth Pages -->
    <div id="authContainer">
        <!-- Halaman Register -->
        <div id="registerPage" class="auth-page active grid lg:grid-cols-2 h-screen w-full">
             <div class="flex items-center justify-center bg-slate-50 p-4">
                <div class="w-full max-w-md bg-white shadow-xl rounded-2xl p-8">
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">Buat Akun Baru</h1>
                    <p class="text-slate-500 mb-6">Gabung dan mulai perjalanan belajarmu!</p>
                    <form onsubmit="event.preventDefault(); showAuthPage('loginPage'); showNotification('Pendaftaran berhasil! Silakan login.', 'success');" class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div><label class="block text-sm font-medium text-slate-600">Nama Depan</label><input type="text" required class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500"></div>
                            <div><label class="block text-sm font-medium text-slate-600">Nama Belakang</label><input type="text" required class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500"></div>
                        </div>
                        <div><label class="block text-sm font-medium text-slate-600">Alamat Email</label><input type="email" required class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500"></div>
                        <div><label class="block text-sm font-medium text-slate-600">Buat Sandi</label><input type="password" required class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500"></div>
                        <div><label class="block text-sm font-medium text-slate-600">Konfirmasi Sandi</label><input type="password" required class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500"></div>
                        <button type="submit" class="w-full bg-sky-500 text-white font-semibold py-3 px-4 rounded-lg hover:bg-sky-600">Daftar</button>
                    </form>
                     <p class="text-center text-sm text-slate-500 mt-6">Sudah punya akun? <a href="#" onclick="showAuthPage('loginPage')" class="font-semibold text-sky-500 hover:text-sky-600">Masuk di sini</a></p>
                </div>
            </div>
             <div class="hidden lg:flex flex-col items-center justify-center bg-blue-800 text-white p-12 text-center">
                 <h1 class="text-6xl font-extrabold tracking-wider">EDULINK</h1>
                 <p class="mt-4 text-lg text-blue-200">Satu Akun untuk Semua Kebutuhan Belajarmu.</p>
                 <i data-lucide="rocket" class="w-48 h-48 mt-12 text-blue-600"></i>
            </div>
        </div>
        <!-- Halaman Login -->
        <div id="loginPage" class="auth-page grid lg:grid-cols-2 h-screen w-full">
            <div class="hidden lg:flex flex-col items-center justify-center bg-blue-800 text-white p-12 text-center">
                 <h1 class="text-6xl font-extrabold tracking-wider">EDULINK</h1>
                 <p class="mt-4 text-lg text-blue-200">Gerbang Menuju Potensi Akademik Terbaikmu.</p>
                 <i data-lucide="graduation-cap" class="w-48 h-48 mt-12 text-blue-600"></i>
            </div>
            <div class="flex items-center justify-center bg-slate-50 p-4">
                <div class="w-full max-w-md bg-white shadow-xl rounded-2xl p-8">
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">Selamat Datang Kembali</h1>
                    <p class="text-slate-500 mb-8">Mulai langkahmu, temukan solusi terbaik.</p>
                    <form onsubmit="event.preventDefault(); login();" class="space-y-4">
                        <div>
                            <label for="login-email" class="block text-sm font-medium text-slate-600">Alamat Email</label>
                            <input type="email" id="login-email" value="user@edulink.com" required class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">
                        </div>
                        <div>
                            <label for="login-password" class="block text-sm font-medium text-slate-600">Kata Sandi</label>
                            <input type="password" id="login-password" value="password123" required class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">
                        </div>
                        <button type="submit" class="w-full bg-sky-500 text-white font-semibold py-3 px-4 rounded-lg hover:bg-sky-600 transition-transform hover:scale-[1.02]">Masuk</button>
                    </form>
                    <p class="text-center text-sm text-slate-500 mt-6">
                        Belum punya akun? <a href="#" onclick="showAuthPage('registerPage')" class="font-semibold text-sky-500 hover:text-sky-600">Daftar di sini</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- App Wrapper -->
    <div id="app-wrapper" class="flex h-screen hidden">
        <!-- Sidebar -->
        <nav class="w-64 bg-white shadow-lg flex-col hidden md:flex">
            <div class="p-6 text-center border-b"><h1 class="text-3xl font-extrabold tracking-wider text-blue-800">EDULINK</h1></div>
            <div class="flex-grow p-4 space-y-2">
                <a href="#" onclick="showPage('berandaPage', this)" class="sidebar-link flex items-center p-3 rounded-lg text-slate-600 hover:bg-sky-100 transition-colors active"><i data-lucide="layout-dashboard" class="w-5 h-5 mr-3 text-slate-500"></i> Beranda</a>
                <a href="#" onclick="showPage('chatPage', this)" class="sidebar-link flex items-center p-3 rounded-lg text-slate-600 hover:bg-sky-100 transition-colors"><i data-lucide="message-circle" class="w-5 h-5 mr-3 text-slate-500"></i> Chat</a>
                <a href="#" onclick="showPage('langgananPage', this)" class="sidebar-link flex items-center p-3 rounded-lg text-slate-600 hover:bg-sky-100 transition-colors"><i data-lucide="gem" class="w-5 h-5 mr-3 text-slate-500"></i> Langganan</a>
                <a href="#" onclick="showPage('promoPage', this)" class="sidebar-link flex items-center p-3 rounded-lg text-slate-600 hover:bg-sky-100 transition-colors"><i data-lucide="ticket" class="w-5 h-5 mr-3 text-slate-500"></i> Promo</a>
                <a href="#" onclick="showPage('favoritPage', this)" class="sidebar-link flex items-center p-3 rounded-lg text-slate-600 hover:bg-sky-100 transition-colors"><i data-lucide="heart" class="w-5 h-5 mr-3 text-slate-500"></i> Favorit</a>
                <a href="#" onclick="showPage('mentorRegisterPage', this)" class="sidebar-link flex items-center p-3 rounded-lg text-slate-600 hover:bg-sky-100 transition-colors"><i data-lucide="user-plus" class="w-5 h-5 mr-3 text-slate-500"></i> Daftar Jadi Mentor</a>
                <a href="#" onclick="showPage('faqPage', this)" class="sidebar-link flex items-center p-3 rounded-lg text-slate-600 hover:bg-sky-100 transition-colors"><i data-lucide="help-circle" class="w-5 h-5 mr-3 text-slate-500"></i> FAQ</a>
            </div>
            <div class="p-4 border-t"><a href="#" onclick="logout()" class="flex items-center p-3 rounded-lg text-slate-600 hover:bg-red-50 transition-colors"><i data-lucide="log-out" class="w-5 h-5 mr-3 text-red-500"></i> Logout</a></div>
        </nav>

        <!-- Main Content -->
        <main class="flex-1 p-8 overflow-y-auto main-content">
            <div id="berandaPage" class="page active">
                <h1 class="text-3xl font-bold text-gray-800 mb-8">Selamat Datang, Rifki!</h1>
                <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                     <div onclick="setupFeaturePage('consulink')" class="feature-card bg-white p-6 rounded-xl text-center cursor-pointer border"><div class="bg-emerald-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"><i data-lucide="messages-square" class="w-10 h-10 text-emerald-500"></i></div><h3 class="text-xl font-bold text-blue-800">Consulink</h3></div>
                    <div onclick="setupFeaturePage('riselink')" class="feature-card bg-white p-6 rounded-xl text-center cursor-pointer border"><div class="bg-violet-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"><i data-lucide="file-text" class="w-10 h-10 text-violet-500"></i></div><h3 class="text-xl font-bold text-blue-800">Riselink</h3></div>
                    <div onclick="setupFeaturePage('courselink')" class="feature-card bg-white p-6 rounded-xl text-center cursor-pointer border"><div class="bg-amber-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"><i data-lucide="book-open" class="w-10 h-10 text-amber-500"></i></div><h3 class="text-xl font-bold text-blue-800">Courselink</h3></div>
                    <div onclick="setupFeaturePage('complink')" class="feature-card bg-white p-6 rounded-xl text-center cursor-pointer border"><div class="bg-rose-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"><i data-lucide="trophy" class="w-10 h-10 text-rose-500"></i></div><h3 class="text-xl font-bold text-blue-800">Complink</h3></div>
                </div>
                 <div id="hot-services-container" class="mt-10 bg-white p-6 rounded-xl border"></div>
            </div>

            <div id="chatPage" class="page">
                <h1 class="text-3xl font-bold text-gray-800 mb-6">Riwayat Chat Mentor</h1>
                <div class="bg-white p-6 rounded-xl border space-y-4">
                    <div onclick="showNotification('Layanan chat dengan mentor ini telah berakhir', 'info')" class="flex items-center p-3 rounded-lg hover:bg-slate-50 cursor-pointer"><img src="https://placehold.co/48x48/fecaca/b91c1c?text=A" class="rounded-full w-12 h-12 mr-4"><div class="flex-grow"><p class="font-semibold">Anisa Putri</p><p class="text-sm text-slate-500">Bisa tolong review bagian pendahuluan...</p></div><span class="text-xs text-slate-400">2 hari lalu</span></div>
                    <div onclick="showNotification('Layanan chat dengan mentor ini telah berakhir', 'info')" class="flex items-center p-3 rounded-lg hover:bg-slate-50 cursor-pointer"><img src="https://placehold.co/48x48/bae6fd/1e3a8a?text=B" class="rounded-full w-12 h-12 mr-4"><div class="flex-grow"><p class="font-semibold">Budi Santoso</p><p class="text-sm text-slate-500">Oke, terima kasih atas bantuannya!</p></div><span class="text-xs text-slate-400">5 hari lalu</span></div>
                    <div onclick="showNotification('Layanan chat dengan mentor ini telah berakhir', 'info')" class="flex items-center p-3 rounded-lg hover:bg-slate-50 cursor-pointer"><img src="https://placehold.co/48x48/d8b4fe/7e22ce?text=C" class="rounded-full w-12 h-12 mr-4"><div class="flex-grow"><p class="font-semibold">Citra Lestari</p><p class="text-sm text-slate-500">Untuk soal ONMIPA, kita bisa mulai...</p></div><span class="text-xs text-slate-400">1 minggu lalu</span></div>
                    <div onclick="showNotification('Layanan chat dengan mentor ini telah berakhir', 'info')" class="flex items-center p-3 rounded-lg hover:bg-slate-50 cursor-pointer"><img src="https://placehold.co/48x48/a5f3fc/0e7490?text=D" class="rounded-full w-12 h-12 mr-4"><div class="flex-grow"><p class="font-semibold">Dewi Anggraini</p><p class="text-sm text-slate-500">Tentu, saya siap membantu soal manajemen...</p></div><span class="text-xs text-slate-400">2 minggu lalu</span></div>
                </div>
            </div>

            <div id="langgananPage" class="page">
                 <h1 class="text-3xl font-bold text-gray-800 mb-2">Paket Langganan</h1>
                <p class="text-slate-500 mb-6">Pilih paket terbaik untuk memaksimalkan potensimu!</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="border-2 border-slate-200 bg-white rounded-xl p-6 text-center flex flex-col"><h3 class="text-xl font-bold">Paket Hemat</h3><p class="text-sm text-slate-500 mb-4">5x Transaksi (1 Fitur)</p><p class="text-lg font-medium text-slate-400 line-through">Rp 30.000</p><p class="text-4xl font-extrabold text-blue-800 mb-6">Rp 24.000</p><button onclick="showPaymentPage({type: 'Paket', name: 'Paket Hemat', price: '24000'})" class="mt-auto w-full bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300">Pilih Paket</button></div>
                    <div class="border-2 border-sky-500 bg-white rounded-xl p-6 text-center relative flex flex-col"><div class="absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2 bg-sky-500 text-white text-xs font-bold px-3 py-1 rounded-full">PALING LARIS</div><h3 class="text-xl font-bold">Paket Puas</h3><p class="text-sm text-slate-500 mb-4">10x Transaksi (1 Fitur)</p><p class="text-lg font-medium text-slate-400 line-through">Rp 60.000</p><p class="text-4xl font-extrabold text-blue-800 mb-6">Rp 45.000</p><button onclick="showPaymentPage({type: 'Paket', name: 'Paket Puas', price: '45000'})" class="mt-auto w-full bg-sky-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-sky-600">Pilih Paket</button></div>
                    <div class="border-2 border-slate-200 bg-white rounded-xl p-6 text-center flex flex-col"><h3 class="text-xl font-bold">Paket Sultan</h3><p class="text-sm text-slate-500 mb-4">20x Transaksi (Bebas pilih Fitur)</p><p class="text-lg font-medium text-slate-400 line-through">Rp 121.000</p><p class="text-4xl font-extrabold text-blue-800 mb-6">Rp 85.000</p><button onclick="showPaymentPage({type: 'Paket', name: 'Paket Sultan', price: '85000'})" class="mt-auto w-full bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300">Pilih Paket</button></div>
                </div>
            </div>

            <div id="promoPage" class="page">
                <h1 class="text-3xl font-bold text-gray-800 mb-6">Promo Spesial Untukmu</h1>
                <div class="space-y-6">
                    <div class="bg-gradient-to-r from-blue-800 to-sky-500 text-white p-8 rounded-xl flex justify-between items-center"><div><h3 class="text-2xl font-bold">Diskon Pengguna Pertama!</h3><p class="opacity-80">Dapatkan potongan 50% untuk transaksi pertamamu.</p></div><button onclick="showNotification('Diskon didapatkan!', 'success')" class="bg-white text-blue-800 font-bold py-2 px-6 rounded-lg">Klaim</button></div>
                    <div class="bg-white border p-6 rounded-xl flex justify-between items-center"><div><h3 class="text-xl font-bold">Ajak Teman, Dapat Cuan!</h3><p class="text-slate-500">Bagikan kode referral dan dapatkan diskon 25%.</p></div><button onclick="openShareModal()" class="bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300">Bagikan</button></div>
                    <div class="bg-white border p-6 rounded-xl flex justify-between items-center"><div><h3 class="text-xl font-bold">Promo Hari Pendidikan</h3><p class="text-slate-500">Diskon 20% untuk semua layanan Riselink. Terbatas!</p></div><button onclick="showNotification('Promo berhasil diklaim!', 'success')" class="bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300">Klaim</button></div>
                    <div class="bg-white border p-6 rounded-xl flex justify-between items-center"><div><h3 class="text-xl font-bold">Cashback E-Wallet</h3><p class="text-slate-500">Dapatkan cashback 10% untuk pembayaran via GoPay/OVO.</p></div><button onclick="showPage('promoDetailPage')" class="bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300">Lihat Detail</button></div>
                </div>
            </div>

            <div id="favoritPage" class="page">
                <h1 class="text-3xl font-bold text-gray-800 mb-6">Layanan Favorit</h1>
                <div class="bg-white p-12 rounded-xl border text-center"><i data-lucide="folder-heart" class="w-16 h-16 mx-auto text-slate-300 mb-4"></i><h3 class="text-xl font-semibold">Belum Ada Favorit</h3><p class="text-slate-500 mt-1">Tandai layanan yang kamu sukai untuk akses lebih cepat!</p></div>
            </div>

            <div id="mentorRegisterPage" class="page">
                 <div id="mentorRegisterSelection">
                     <h1 class="text-3xl font-bold text-gray-800 mb-2">Daftar Menjadi Mitra Mentor</h1>
                     <p class="text-slate-500 mb-6">Pilih kategori yang paling sesuai dengan keahlianmu.</p>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div onclick="showMentorRegisterForm('Consulink')" class="feature-card bg-white p-6 rounded-xl text-center cursor-pointer border">
                            <div class="bg-emerald-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"><i data-lucide="messages-square" class="w-10 h-10 text-emerald-500"></i></div>
                            <h3 class="text-xl font-bold text-blue-800">Mentor Consulink</h3>
                            <p class="text-sm text-slate-500 mt-2">Bimbingan akademik, tugas, ujian, dan kehidupan kampus.</p>
                            <p class="text-xs font-semibold text-sky-600 mt-2">Syarat: Minimal semester 5</p>
                        </div>
                        <div onclick="showMentorRegisterForm('Riselink')" class="feature-card bg-white p-6 rounded-xl text-center cursor-pointer border">
                            <div class="bg-violet-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"><i data-lucide="file-text" class="w-10 h-10 text-violet-500"></i></div>
                            <h3 class="text-xl font-bold text-blue-800">Mentor Riselink</h3>
                            <p class="text-sm text-slate-500 mt-2">Bimbingan karya tulis ilmiah, metodologi, analisis data, dan publikasi.</p>
                             <p class="text-xs font-semibold text-sky-600 mt-2">Syarat: Minimal S1</p>
                        </div>
                        <div onclick="showMentorRegisterForm('Courselink')" class="feature-card bg-white p-6 rounded-xl text-center cursor-pointer border">
                            <div class="bg-amber-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"><i data-lucide="book-open" class="w-10 h-10 text-amber-500"></i></div>
                            <h3 class="text-xl font-bold text-blue-800">Mentor Courselink</h3>
                            <p class="text-sm text-slate-500 mt-2">Les privat atau kolektif untuk mata kuliah spesifik.</p>
                            <p class="text-xs font-semibold text-sky-600 mt-2">Syarat: Minimal semester 5</p>
                        </div>
                        <div onclick="showMentorRegisterForm('Complink')" class="feature-card bg-white p-6 rounded-xl text-center cursor-pointer border">
                            <div class="bg-rose-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"><i data-lucide="trophy" class="w-10 h-10 text-rose-500"></i></div>
                            <h3 class="text-xl font-bold text-blue-800">Mentor Complink</h3>
                             <p class="text-sm text-slate-500 mt-2">Mentoring persiapan berbagai macam lomba akademik.</p>
                             <p class="text-xs font-semibold text-sky-600 mt-2">Syarat: Minimal semester 5</p>
                        </div>
                     </div>
                 </div>

                <div id="mentorRegisterFormContainer" class="hidden">
                    <header class="flex items-center mb-6">
                        <button onclick="showMentorRegisterSelection()" class="text-slate-500 hover:text-sky-500 mr-4 p-2 rounded-full hover:bg-slate-200"><i data-lucide="arrow-left" class="w-6 h-6"></i></button>
                        <h1 id="mentorRegisterFormTitle" class="text-3xl font-bold text-gray-800">Formulir Pendaftaran Mentor</h1>
                    </header>
                    <div class="bg-white border p-8 rounded-xl">
                        <form onsubmit="event.preventDefault(); submitMentorForm()" class="space-y-6">
                             <p class="text-sm text-slate-500 bg-slate-100 p-4 rounded-lg">Lengkapi data dirimu dengan benar. Tim kami akan meninjau pendaftaranmu dan memberikan status pendaftaran melalui email.</p>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div><label class="block text-sm font-medium text-slate-700">Nama Lengkap</label><input type="text" required class="mt-1 w-full px-3 py-2 bg-white border border-slate-300 rounded-md"></div>
                                <div><label class="block text-sm font-medium text-slate-700">Email</label><input type="email" required class="mt-1 w-full px-3 py-2 bg-white border border-slate-300 rounded-md"></div>
                                <div><label class="block text-sm font-medium text-slate-700">Asal Universitas</label><input type="text" required class="mt-1 w-full px-3 py-2 bg-white border border-slate-300 rounded-md"></div>
                                <div><label class="block text-sm font-medium text-slate-700">Jurusan</label><input type="text" required class="mt-1 w-full px-3 py-2 bg-white border border-slate-300 rounded-md"></div>
                            </div>
                            <div><label class="block text-sm font-medium text-slate-700">Link Portofolio (LinkedIn, Google Drive, dll)</label><input type="url" placeholder="https://..." required class="mt-1 w-full px-3 py-2 bg-white border border-slate-300 rounded-md"></div>
                             <div><label class="block text-sm font-medium text-slate-700">Unggah CV (PDF, maks 2MB)</label><input type="file" accept=".pdf" required class="mt-1 block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sky-50 file:text-sky-700 hover:file:bg-sky-100"/></div>
                            <div class="pt-4">
                                <button type="submit" class="w-full bg-sky-500 text-white font-semibold py-3 rounded-lg hover:bg-sky-600">Kirim Pendaftaran</button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <div id="mentorRegisterSuccess" class="hidden text-center bg-white p-12 rounded-xl border">
                    <i data-lucide="check-circle-2" class="w-16 h-16 mx-auto text-green-500 mb-4"></i>
                    <h2 class="text-2xl font-bold">Pendaftaran Terkirim!</h2>
                    <p class="text-slate-500 mt-2 max-w-xl mx-auto">Pendaftaran mitra mentor telah kami terima. Tim EDULINK akan meninjau datamu dan menghubungimu segera melalui email untuk memberikan status pendaftaran.</p>
                    <button onclick="showPage('berandaPage')" class="mt-6 bg-sky-500 text-white font-semibold py-2 px-6 rounded-lg">Kembali ke Beranda</button>
                </div>
            </div>
            
            <div id="faqPage" class="page">
                 <h1 class="text-3xl font-bold text-gray-800 mb-6">Pusat Bantuan (FAQ)</h1>
                <div class="bg-white p-6 rounded-xl border divide-y">
                    <a href="#" onclick="showPage('csChatPage')" class="block py-4 font-semibold cursor-pointer hover:text-sky-500">Bagaimana cara memesan layanan mentor?</a>
                    <a href="#" onclick="showPage('csChatPage')" class="block py-4 font-semibold cursor-pointer hover:text-sky-500">Apa saja metode pembayaran yang tersedia?</a>
                    <a href="#" onclick="showPage('csChatPage')" class="block py-4 font-semibold cursor-pointer hover:text-sky-500">Bagaimana jika saya tidak puas dengan mentor?</a>
                    <a href="#" onclick="showPage('csChatPage')" class="block py-4 font-semibold cursor-pointer hover:text-sky-500">Apakah saya bisa mengubah jadwal sesi?</a>
                    <a href="#" onclick="showPage('csChatPage')" class="block py-4 font-semibold cursor-pointer hover:text-sky-500">Saya memiliki kendala pada transaksi.</a>
                     <a href="#" onclick="showPage('csChatPage')" class="block py-4 font-semibold cursor-pointer hover:text-sky-500">Bagaimana cara menjadi mentor di EDULINK?</a>
                    <a href="#" onclick="showPage('csChatPage')" class="block py-4 font-semibold cursor-pointer hover:text-sky-500">Saya ingin mengajukan keluhan lain.</a>
                </div>
            </div>
            
            <div id="featurePage" class="page p-8">
                 <header class="flex items-center mb-6 max-w-6xl mx-auto"><button onclick="showPage('berandaPage')" class="text-slate-500 hover:text-sky-500 mr-4 p-2 rounded-full hover:bg-slate-200"><i data-lucide="arrow-left" class="w-6 h-6"></i></button><h1 id="featureTitle" class="text-3xl font-bold text-gray-800"></h1></header>
                <div class="w-full max-w-6xl mx-auto">
                    <div id="featureFormContainer" class="bg-white p-8 rounded-xl border shadow-sm"><h2 class="text-2xl font-bold text-blue-800 mb-6 text-center">Cari Mentor Terbaikmu</h2><form id="featureForm" class="space-y-4"></form><button id="searchMentorBtn" class="mt-6 w-full bg-sky-500 text-white font-semibold py-3 px-4 rounded-lg hover:bg-sky-600 transition-transform hover:scale-[1.02]">Cari Mentor</button></div>
                    <div id="mentorResults" class="hidden"><h2 class="text-2xl font-bold text-gray-800 mb-4">Hasil Pencarian Mentor</h2><div id="mentorList" class="space-y-4"></div><button onclick="resetFeaturePage()" class="mt-6 w-full bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg hover:bg-slate-300">Cari Lagi</button></div>
                </div>
            </div>

            <div id="paymentPage" class="page"></div>
            
            <div id="promoDetailPage" class="page">
                 <header class="flex items-center mb-6"><button onclick="showPage('promoPage')" class="text-slate-500 hover:text-sky-500 mr-4 p-2 rounded-full hover:bg-slate-200"><i data-lucide="arrow-left" class="w-6 h-6"></i></button><h1 class="text-3xl font-bold text-gray-800">Detail Promo Cashback</h1></header>
                 <div class="bg-white p-8 rounded-xl border">
                    <h2 class="text-2xl font-bold text-blue-800">Dapatkan Cashback 10% dengan E-Wallet!</h2>
                    <p class="text-slate-500 mt-2 mb-4">Nikmati kemudahan transaksi dan dapatkan keuntungan lebih!</p>
                    <div class="prose max-w-none">
                        <p><strong>Periode Promo:</strong> 1 - 30 September 2025</p>
                        <p><strong>Metode Pembayaran:</strong> GoPay, OVO, Dana</p>
                        <h3 class="font-bold mt-4">Syarat dan Ketentuan:</h3>
                        <ul>
                            <li>Promo berlaku untuk semua layanan di EDULINK tanpa minimum transaksi.</li>
                            <li>Maksimal cashback yang didapat adalah Rp 3.000 per transaksi.</li>
                            <li>Setiap pengguna dapat menggunakan promo ini sebanyak 3 kali selama periode promo.</li>
                            <li>Cashback akan diterima maksimal 1x24 jam setelah transaksi berhasil.</li>
                            <li>Promo tidak dapat digabungkan dengan promo lainnya.</li>
                        </ul>
                    </div>
                 </div>
            </div>

            <div id="csChatPage" class="page">
                <header class="flex items-center mb-6"><button onclick="showPage('faqPage')" class="text-slate-500 hover:text-sky-500 mr-4 p-2 rounded-full hover:bg-slate-200"><i data-lucide="arrow-left" class="w-6 h-6"></i></button><h1 class="text-3xl font-bold text-gray-800">Customer Service</h1></header>
                <div class="bg-white rounded-xl border h-[70vh] flex flex-col">
                    <div class="p-4 border-b flex items-center"><img src="https://placehold.co/40x40/d1fae5/047857?text=CS" class="rounded-full w-10 h-10 mr-3"><div><p class="font-bold">Customer Service</p><p class="text-xs text-green-500">Online</p></div></div>
                    <div id="csChatLog" class="flex-grow p-4 space-y-4 overflow-y-auto"><div class="flex justify-start"><div class="bg-slate-100 p-3 rounded-lg max-w-md">Halo! Ada yang bisa kami bantu? Silakan ketik pertanyaan atau keluhanmu di bawah ini.</div></div></div>
                    <div class="p-4 border-t flex items-center gap-3"><input id="csChatInput" type="text" placeholder="Ketik pesanmu di sini..." class="w-full px-3 py-2 bg-slate-100 border border-slate-300 rounded-md focus:outline-none focus:ring-sky-500 focus:border-sky-500"><button id="csSendBtn" class="bg-sky-500 text-white p-2 rounded-md"><i data-lucide="send" class="w-5 h-5"></i></button></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals and Notifications -->
    <div id="notification-container" class="fixed top-5 right-5 z-50 space-y-2"></div>
    <div id="shareModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50" onclick="closeShareModal()">
        <div class="modal-content bg-white w-full max-w-md rounded-2xl shadow-xl p-6 scale-95 opacity-0" onclick="event.stopPropagation()">
            <h3 class="text-lg font-bold mb-4">Bagikan Promo Ini!</h3>
            <div class="flex justify-center gap-4 mb-6">
                <a href="#" class="p-3 bg-slate-100 rounded-full"><i data-lucide="facebook" class="w-6 h-6 text-blue-600"></i></a>
                <a href="#" class="p-3 bg-slate-100 rounded-full"><i data-lucide="twitter" class="w-6 h-6 text-sky-500"></i></a>
                <a href="#" class="p-3 bg-slate-100 rounded-full"><i data-lucide="instagram" class="w-6 h-6 text-pink-500"></i></a>
                 <a href="#" class="p-3 bg-slate-100 rounded-full"><i data-lucide="message-circle" class="w-6 h-6 text-green-500"></i></a>
            </div>
            <div class="flex items-center">
                <input id="shareLink" type="text" readonly value="https://edulink.app/promo/ajakteman" class="w-full px-3 py-2 bg-slate-100 border border-slate-300 rounded-l-md">
                <button onclick="copyShareLink()" class="bg-sky-500 text-white p-2 rounded-r-md"><i data-lucide="copy" class="w-5 h-5"></i></button>
            </div>
        </div>
    </div>
    <div id="profileModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50" onclick="closeProfileModal()">
        <div class="modal-content bg-white w-full max-w-2xl max-h-[90vh] rounded-2xl shadow-xl overflow-hidden flex flex-col scale-95 opacity-0" onclick="event.stopPropagation()">
            <div class="p-4 border-b flex justify-between items-center bg-slate-50"><h2 id="modalProfileTitle" class="text-xl font-bold text-blue-800">Profil Mentor</h2><button onclick="closeProfileModal()" class="text-slate-400 hover:text-slate-600 p-1 rounded-full"><i data-lucide="x" class="w-6 h-6"></i></button></div>
            <div id="modalProfileBody" class="p-6 overflow-y-auto"></div>
        </div>
    </div>

    <script>
        // --- Data ---
        const universities = ['Universitas Indonesia', 'Universitas Gadjah Mada', 'Universitas Airlangga', 'Institut Teknologi Bandung', 'Universitas Padjadjaran', 'Lain-lain'];
        const majors = ['Manajemen', 'Ilmu Komputer', 'Teknik Kimia', 'Akuntansi', 'Psikologi', 'Lain-lain'];
        const consulinkServices = ['Bimbingan Pengerjaan Tugas Akademik', 'Bimbingan Mata Kuliah & Dosen', 'Bimbingan Ujian', 'Bimbingan Kehidupan Kampus'];
        const riselinkServices = ['Bimbingan Penulisan', 'Bimbingan Metodologi & Analisis Data', 'Review & Proofreading', 'Bimbingan Publikasi'];
        const courseSubjects = ['Kalkulus', 'Statistik', 'Ilmu Ekonomi', 'Akuntansi', 'Kimia Dasar', 'Psikometri'];
        const competitionBranches = ['Business Plan Competition', 'Startup Competition', 'Olimpiade Mahasiswa', 'Data Science Competition', 'Programming Competition', 'Debat Mahasiswa'];
        
        const mentorData = {
            'Ahmad Maulana': { type: ['consulink', 'complink'], univ: 'Universitas Indonesia', jurusan: 'Manajemen', spec: 'Pengembangan Karir & Business Plan', services: ['Bimbingan Kehidupan Kampus', 'Business Plan Competition'], pengalaman: ['- 2 tahun sebagai Konsultan Bisnis Junior'], prestasi: ['- Juara 1 Business Plan Competition Nasional 2023'], keahlian: ['Analisis SWOT', 'Model Bisnis Kanvas'] },
            'Bella Safira': { type: ['consulink', 'complink'], univ: 'Universitas Indonesia', jurusan: 'Manajemen', spec: 'Pengembangan Karir & Business Plan', services: ['Bimbingan Kehidupan Kampus', 'Business Plan Competition'], pengalaman: ['- Project Manager di Startup Edukasi'], prestasi: ['- Pemenang Grant Mahasiswa Wirausaha'], keahlian: ['Riset Pasar', 'Public Speaking'] },
            'Candra Wijaya': { type: ['courselink', 'riselink'], univ: 'Universitas Indonesia', jurusan: 'Manajemen', spec: 'Pengembangan Karir & Business Plan', services: ['Statistik', 'Bimbingan Penulisan'], pengalaman: ['- Asisten Riset Dosen'], prestasi: ['- Publikasi di Jurnal Mahasiswa'], keahlian: ['SPSS', 'Penulisan Ilmiah'] },
            'Dian Permata': { type: ['courselink', 'riselink'], univ: 'Universitas Indonesia', jurusan: 'Manajemen', spec: 'Pengembangan Karir & Business Plan', services: ['Ilmu Ekonomi', 'Review & Proofreading'], pengalaman: ['- Tutor Ekonomi Makro'], prestasi: ['- IPK Cum Laude'], keahlian: ['Teori Ekonomi', 'Editing Naskah'] },
            'Eka Saputra': { type: ['consulink', 'complink'], univ: 'Universitas Indonesia', jurusan: 'Manajemen', spec: 'Pengembangan Karir & Business Plan', services: ['Bimbingan Ujian', 'Startup Competition'], pengalaman: ['- Co-founder Komunitas Startup Kampus'], prestasi: ['- Finalis kompetisi startup tingkat nasional'], keahlian: ['Pitching', 'Validasi Ide'] },
            'Fina Lestari': { type: ['consulink', 'complink'], univ: 'Universitas Indonesia', jurusan: 'Manajemen', spec: 'Pengembangan Karir & Business Plan', services: ['Bimbingan Kehidupan Kampus', 'Business Plan Competition'], pengalaman: ['- Mentor di program orientasi mahasiswa baru'], prestasi: ['- Mahasiswa Berprestasi Tingkat Fakultas'], keahlian: ['Manajemen Waktu', 'Komunikasi Interpersonal'] },
            'Gilang Ramadhan': { type: ['courselink', 'riselink'], univ: 'Universitas Indonesia', jurusan: 'Manajemen', spec: 'Pengembangan Karir & Business Plan', services: ['Akuntansi', 'Bimbingan Metodologi & Analisis Data'], pengalaman: ['- Magang di Divisi Keuangan Perusahaan Multinasional'], prestasi: ['- Sertifikasi Akuntansi Dasar'], keahlian: ['Analisis Laporan Keuangan', 'Riset Kuantitatif'] },
            'Hana Yuliana': { type: ['courselink', 'riselink'], univ: 'Universitas Indonesia', jurusan: 'Manajemen', spec: 'Pengembangan Karir & Business Plan', services: ['Manajemen', 'Bimbingan Publikasi'], pengalaman: ['- Staff Ahli di BEM'], prestasi: ['- Best Paper di Seminar Mahasiswa'], keahlian: ['Manajemen Proyek', 'Sitasi & Referensi'] },
            'Indra Gunawan': { type: ['consulink', 'complink'], univ: 'Universitas Indonesia', jurusan: 'Manajemen', spec: 'Pengembangan Karir & Business Plan', services: ['Bimbingan Pengerjaan Tugas Akademik', 'Debat Mahasiswa'], pengalaman: ['- Ketua UKM Debat'], prestasi: ['- Best Speaker di Lomba Debat Regional'], keahlian: ['Argumentasi', 'Riset Cepat'] },
            'Jasmine Putri': { type: ['consulink', 'complink'], univ: 'Universitas Indonesia', jurusan: 'Manajemen', spec: 'Pengembangan Karir & Business Plan', services: ['Bimbingan Mata Kuliah & Dosen', 'Olimpiade Mahasiswa'], pengalaman: ['- Asisten Dosen Pengantar Bisnis'], prestasi: ['- Peserta ONMIPA-PT Bidang Ekonomi'], keahlian: ['Problem Solving', 'Teori Manajemen'] },
        };

        const hotServicesData = [
            { type: 'riselink', service: 'Bimbingan Penulisan', title: 'Bimbingan Penulisan Skripsi', color: 'violet'},
            { type: 'courselink', service: 'Kalkulus', title: 'Les Privat Kalkulus', color: 'amber'},
            { type: 'complink', service: 'Business Plan Competition', title: 'Mentoring Business Plan', color: 'rose'},
            { type: 'consulink', service: 'Bimbingan Kehidupan Kampus', title: 'Konsultasi Kehidupan Kampus', color: 'emerald'},
            { type: 'riselink', service: 'Review & Proofreading', title: 'Jasa Proofreading Jurnal', color: 'violet'},
            { type: 'courselink', service: 'Statistik', title: 'Bimbel Statistik Dasar', color: 'amber'},
            { type: 'complink', service: 'Debat Mahasiswa', title: 'Pelatihan Debat Bahasa Inggris', color: 'rose'},
            { type: 'consulink', service: 'Bimbingan Ujian', title: 'Persiapan Ujian Akhir Semester', color: 'emerald'},
            { type: 'riselink', service: 'Bimbingan Publikasi', title: 'Mentoring Publikasi Sinta 2', color: 'violet'},
        ];

        // --- DOM Elements ---
        const authContainer = document.getElementById('authContainer');
        const appWrapper = document.getElementById('app-wrapper');
        const authPages = document.querySelectorAll('.auth-page');
        const pages = document.querySelectorAll('.main-content .page');
        const sidebarLinks = document.querySelectorAll('.sidebar-link');
        const featureForm = document.getElementById('featureForm');
        const featureTitle = document.getElementById('featureTitle');
        const searchMentorBtn = document.getElementById('searchMentorBtn');
        const featureFormContainer = document.getElementById('featureFormContainer');
        const mentorResults = document.getElementById('mentorResults');
        const mentorList = document.getElementById('mentorList');
        const profileModal = document.getElementById('profileModal');
        const modalContent = profileModal.querySelector('.modal-content');
        const modalProfileTitle = document.getElementById('modalProfileTitle');
        const modalProfileBody = document.getElementById('modalProfileBody');

        // --- Functions ---
        function showAuthPage(pageId) { 
            authPages.forEach(p => p.classList.remove('active')); 
            document.getElementById(pageId).classList.add('active'); 
        }
        function login() { 
            authContainer.classList.add('hidden'); 
            appWrapper.classList.remove('hidden'); 
            showPage('berandaPage', document.querySelector('.sidebar-link')); 
        }
        function logout() { 
            appWrapper.classList.add('hidden'); 
            authContainer.classList.remove('hidden'); 
            showAuthPage('loginPage'); 
        }
        function showPage(pageId, clickedLink) { pages.forEach(page => page.classList.remove('active')); document.getElementById(pageId).classList.add('active'); if (pageId === 'featurePage') { document.getElementById('app-wrapper').classList.add('feature-view'); } else { document.getElementById('app-wrapper').classList.remove('feature-view'); } sidebarLinks.forEach(link => link.classList.remove('active')); if (pageId === 'featurePage' || pageId === 'promoDetailPage' || pageId === 'csChatPage' || pageId === 'paymentPage') { return; } if (clickedLink) { clickedLink.classList.add('active'); } else { const linkToActivate = Array.from(sidebarLinks).find(link => link.getAttribute('onclick')?.includes('${pageId}')); if (linkToActivate) { linkToActivate.classList.add('active'); } } }
        function generateOptions(optionsArray, selectedValue = '') { return optionsArray.map(option => <option value="${option}" ${option === selectedValue ? 'selected' : ''}>${option}</option>).join(''); }
        function setupFeaturePage(featureType, preselect = {}) {
            featureForm.innerHTML = ''; 
            resetFeaturePage();
            let formContent = '';
            switch (featureType) {
                case 'consulink': featureTitle.textContent = 'Consulink'; formContent = <div><label class="block text-sm font-medium text-slate-600">Universitas</label><select name="univ" class="form-select mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">${generateOptions(universities)}</select></div><div><label class="block text-sm font-medium text-slate-600">Jurusan</label><select name="jurusan" class="form-select mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">${generateOptions(majors)}</select></div><div><label class="block text-sm font-medium text-slate-600">Layanan Konsultasi</label><select name="service" class="form-select mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">${generateOptions(consulinkServices, preselect.service)}</select></div>; break;
                case 'riselink': featureTitle.textContent = 'Riselink'; formContent = <div><label class="block text-sm font-medium text-slate-600">Universitas</label><select name="univ" class="form-select mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">${generateOptions(universities)}</select></div><div><label class="block text-sm font-medium text-slate-600">Jurusan</label><select name="jurusan" class="form-select mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">${generateOptions(majors)}</select></div><div><label class="block text-sm font-medium text-slate-600">Layanan Riset & Publikasi</label><select name="service" class="form-select mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">${generateOptions(riselinkServices, preselect.service)}</select></div>; break;
                case 'courselink': featureTitle.textContent = 'Courselink'; formContent = <div><label class="block text-sm font-medium text-slate-600">Universitas</label><select name="univ" class="form-select mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">${generateOptions(universities)}</select></div><div><label class="block text-sm font-medium text-slate-600">Jurusan</label><select name="jurusan" class="form-select mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">${generateOptions(majors)}</select></div><div><label class="block text-sm font-medium text-slate-600">Mata Kuliah</label><select name="service" class="form-select mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">${generateOptions(courseSubjects, preselect.service)}</select></div>; break;
                case 'complink': featureTitle.textContent = 'Complink'; formContent = <div><label class="block text-sm font-medium text-slate-600">Cabang Lomba Akademik</label><select name="service" class="form-select mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500">${generateOptions(competitionBranches, preselect.service)}</select></div>; break;
            }
            featureForm.innerHTML = formContent;
            featureForm.dataset.featureType = featureType;
            showPage('featurePage');
        }
        function openHotService(featureType, serviceName) { setupFeaturePage(featureType, { service: serviceName }); }
        
        function filterAndDisplayMentors() {
            mentorList.innerHTML = '';
            const matchingMentors = Object.entries(mentorData);

            if (matchingMentors.length > 0) {
                matchingMentors.forEach(([name, data]) => {
                    mentorList.innerHTML += `
                        <div class="border bg-white rounded-lg p-4 flex items-center space-x-4 hover:bg-slate-50">
                            <img src="https://placehold.co/64x64/bae6fd/1e3a8a?text=${name.charAt(0)}" class="w-16 h-16 rounded-full flex-shrink-0">
                            <div class="flex-grow">
                                <h4 class="font-bold text-lg text-blue-800">${name}</h4>
                                <p class="text-sm text-slate-600">${data.univ} - ${data.jurusan}</p>
                                <p class="text-sm text-slate-500 mt-1">${data.spec}</p>
                            </div>
                            <div class="flex flex-col gap-2 flex-shrink-0 w-40">
                                <button onclick="openProfileModal('${name}')" class="bg-sky-100 text-sky-700 text-sm font-semibold py-2 px-4 rounded-md hover:bg-sky-200 w-full text-center">Lihat Profil</button>
                                <button onclick="showPaymentPage({type: 'Mentor', name: '${name}', price: '6000'})" class="bg-sky-500 text-white text-sm font-semibold py-2 px-4 rounded-md hover:bg-sky-600 w-full text-center">Click untuk memilih</button>
                            </div>
                        </div>`;
                });
            } else {
                mentorList.innerHTML = <div class="text-center py-10 bg-slate-50 rounded-lg"><i data-lucide="search-x" class="w-12 h-12 mx-auto text-slate-400"></i><h3 class="mt-4 font-semibold">Mentor tidak ditemukan</h3><p class="text-sm text-slate-500">Coba ubah kriteria pencarianmu.</p></div>;
            }
            lucide.createIcons();
        }

        function resetFeaturePage() { featureFormContainer.classList.remove('hidden'); mentorResults.classList.add('hidden'); mentorList.innerHTML = ''; }
        function showNotification(message, type = 'info') { const container = document.getElementById('notification-container'); const notif = document.createElement('div'); const colors = { info: 'bg-blue-500', success: 'bg-green-500', error: 'bg-red-500' }; notif.className = custom-notification text-white text-sm font-semibold px-4 py-2 rounded-md shadow-lg opacity-0 transform translate-x-10 ${colors[type]}; notif.textContent = message; container.appendChild(notif); setTimeout(() => { notif.classList.remove('opacity-0', 'translate-x-10'); }, 10); setTimeout(() => { notif.classList.add('opacity-0', 'translate-x-10'); notif.addEventListener('transitionend', () => notif.remove()); }, 3000); }
        function openShareModal() { const modal = document.getElementById('shareModal'); modal.classList.remove('hidden'); setTimeout(() => { modal.classList.remove('opacity-0'); modal.querySelector('.modal-content').classList.remove('scale-95', 'opacity-0'); }, 10); }
        function closeShareModal() { const modal = document.getElementById('shareModal'); modal.querySelector('.modal-content').classList.add('scale-95', 'opacity-0'); modal.classList.add('opacity-0'); setTimeout(() => modal.classList.add('hidden'), 300); }
        function copyShareLink() { navigator.clipboard.writeText('https://edulink.app/promo/ajakteman').then(() => { showNotification('Link disalin!', 'success'); }); }
        
        function openProfileModal(mentorName) {
            const data = mentorData[mentorName];
            if (!data) return;

            modalProfileTitle.textContent = Profil ${mentorName};
            modalProfileBody.innerHTML = `
                <div class="flex flex-col md:flex-row items-start gap-6">
                    <img src="https://placehold.co/128x128/bae6fd/1e3a8a?text=${mentorName.charAt(0)}" class="w-32 h-32 rounded-full mx-auto md:mx-0 flex-shrink-0">
                    <div>
                        <h3 class="text-2xl font-bold">${mentorName}</h3>
                        <p class="text-md text-slate-600">${data.univ} - ${data.jurusan}</p>
                        <p class="text-md text-sky-600 font-semibold mt-1">${data.spec}</p>
                    </div>
                </div>
                <div class="mt-6 space-y-4">
                    <div><h4 class="font-bold text-blue-800 border-b pb-1 mb-2">Pengalaman</h4><ul class="list-disc list-inside text-slate-600">${data.pengalaman.map(item => <li>${item}</li>).join('') || '<li>Data belum tersedia.</li>'}</ul></div>
                    <div><h4 class="font-bold text-blue-800 border-b pb-1 mb-2">Prestasi</h4><ul class="list-disc list-inside text-slate-600">${data.prestasi.map(item => <li>${item}</li>).join('') || '<li>Data belum tersedia.</li>'}</ul></div>
                    <div><h4 class="font-bold text-blue-800 border-b pb-1 mb-2">Keahlian</h4><div class="flex flex-wrap gap-2 mt-2">${data.keahlian.map(item => <span class="bg-sky-100 text-sky-800 text-sm font-medium px-3 py-1 rounded-full">${item}</span>).join('') || '<p class="text-slate-600">Data belum tersedia.</p>'}</div></div>
                </div>`;
            profileModal.classList.remove('hidden');
            setTimeout(() => { profileModal.classList.remove('opacity-0'); modalContent.classList.remove('scale-95', 'opacity-0'); }, 10);
        }

        function closeProfileModal() {
            modalContent.classList.add('scale-95', 'opacity-0');
            profileModal.classList.add('opacity-0');
            setTimeout(() => { profileModal.classList.add('hidden'); }, 300);
        }
        
        function showPaymentPage(item) {
            const paymentContainer = document.getElementById('paymentPage');
            paymentContainer.innerHTML = `
                <header class="flex items-center mb-6"><button onclick="history.back()" class="text-slate-500 hover:text-sky-500 mr-4 p-2 rounded-full hover:bg-slate-200"><i data-lucide="arrow-left" class="w-6 h-6"></i></button><h1 class="text-3xl font-bold text-gray-800">Konfirmasi Pembayaran</h1></header>
                <div class="max-w-4xl mx-auto">
                    <div id="payment-content" class="bg-white rounded-xl border p-8">
                        <div class="border rounded-lg p-4 mb-6"><h3 class="font-bold">Detail Pesanan</h3><div class="flex justify-between items-center mt-2"><span id="transItemName">${item.name}</span><span id="transItemPrice" class="font-bold text-lg">Rp ${Number(item.price).toLocaleString('id-ID')}</span></div></div>
                        <div><h3 class="font-bold mb-4">Pilih Metode Pembayaran</h3><div class="space-y-3"><label class="flex items-center p-4 border rounded-lg has-[:checked]:bg-sky-50 has-[:checked]:border-sky-500"><input type="radio" name="payment" class="w-5 h-5 text-sky-600 focus:ring-sky-500 mr-4" checked><span class="font-semibold">E-Wallet (GoPay, OVO, Dana)</span></label><label class="flex items-center p-4 border rounded-lg has-[:checked]:bg-sky-50 has-[:checked]:border-sky-500"><input type="radio" name="payment" class="w-5 h-5 text-sky-600 focus:ring-sky-500 mr-4"><span class="font-semibold">Virtual Account (BCA, Mandiri, BRI)</span></label></div></div>
                        <div class="flex gap-4 mt-8"><button onclick="history.back()" class="w-full bg-slate-200 text-slate-700 font-semibold py-3 rounded-lg hover:bg-slate-300">Batal</button><button onclick="processPayment()" class="w-full bg-sky-500 text-white font-semibold py-3 rounded-lg hover:bg-sky-600">Bayar Sekarang</button></div>
                    </div>
                    <div id="payment-processing" class="hidden text-center bg-white rounded-xl border p-8">
                        <i data-lucide="loader-2" class="w-12 h-12 mx-auto text-sky-500 animate-spin mb-4"></i><h2 class="text-xl font-bold">Transaksi sedang diproses...</h2><p class="text-slate-500 mt-2">Mohon tunggu sebentar, jangan tutup halaman ini.</p>
                    </div>
                     <div id="payment-reload" class="hidden text-center bg-white rounded-xl border p-8">
                        <i data-lucide="alert-circle" class="w-12 h-12 mx-auto text-amber-500 mb-4"></i><h2 class="text-xl font-bold">Menunggu Konfirmasi</h2><p class="text-slate-500 mt-2">Jika pembayaran sudah dilakukan, silakan muat ulang status.</p><button onclick="confirmPayment()" class="mt-6 bg-amber-500 text-white font-semibold py-2 px-6 rounded-lg">Muat Ulang</button>
                    </div>
                </div>`;
            lucide.createIcons();
            showPage('paymentPage');
        }
        function processPayment() { document.getElementById('payment-content').classList.add('hidden'); document.getElementById('payment-processing').classList.remove('hidden'); setTimeout(() => { document.getElementById('payment-processing').classList.add('hidden'); document.getElementById('payment-reload').classList.remove('hidden'); }, 3000); }
        function confirmPayment() { showNotification('Pembayaran berhasil!', 'success'); showPage('berandaPage'); }
        function showMentorRegisterForm(category) {
            document.getElementById('mentorRegisterSelection').classList.add('hidden');
            document.getElementById('mentorRegisterFormContainer').classList.remove('hidden');
            document.getElementById('mentorRegisterFormTitle').textContent = Formulir Pendaftaran Mentor ${category};
        }
        function showMentorRegisterSelection() {
            document.getElementById('mentorRegisterSelection').classList.remove('hidden');
            document.getElementById('mentorRegisterFormContainer').classList.add('hidden');
            document.getElementById('mentorRegisterSuccess').classList.add('hidden');
        }
        function submitMentorForm() { 
            document.getElementById('mentorRegisterFormContainer').classList.add('hidden'); 
            document.getElementById('mentorRegisterSuccess').classList.remove('hidden'); 
        }
        function handleCsChat() {
            const input = document.getElementById('csChatInput');
            const chatLog = document.getElementById('csChatLog');
            if (input.value.trim() === '') return;
            chatLog.innerHTML += <div class="flex justify-end"><div class="bg-blue-800 text-white p-3 rounded-lg max-w-md">${input.value}</div></div>;
            input.value = '';
            chatLog.scrollTop = chatLog.scrollHeight;
            setTimeout(() => {
                chatLog.innerHTML += <div class="flex justify-start"><div class="bg-slate-100 p-3 rounded-lg max-w-md">Halo Rifki,<br><br>Terima kasih telah menghubungi EDULINK.<br>Pesan/keluhanmu sudah kami terima dengan baik dan saat ini sedang dalam proses peninjauan oleh tim kami. Mohon bersabar, kami akan segera memberikan balasan maksimal dalam 1x24 jam melalui chat ini atau email yang terdaftar.<br><br>Untuk mempercepat tindak lanjut, pastikan kamu sudah menyertakan informasi yang relevan.<br><br>Jika masalahmu sifatnya darurat, kamu bisa menghubungi kami melalui:<br> support@edulink.com<br> WhatsApp: +62-831-8025-3832</div></div>;
                chatLog.scrollTop = chatLog.scrollHeight;
            }, 1500);
        }
        function populateHotServices() {
            const container = document.getElementById('hot-services-container');
            let content = <div class="flex items-center gap-3 mb-5"><i data-lucide="flame" class="w-7 h-7 text-orange-500"></i><h2 class="text-2xl font-bold text-blue-800">Sedang Ramai Digunakan</h2></div><div class="grid grid-cols-1 md:grid-cols-3 gap-4">;
            hotServicesData.forEach(item => {
                const userCount = Math.floor(Math.random() * (200 - 20 + 1)) + 20;
                content += `<div onclick="openHotService('${item.type}', '${item.service}')" class="bg-slate-100 p-4 rounded-lg cursor-pointer hover:bg-slate-200/70">
                                <div class="flex justify-between items-start">
                                    <div><h4 class="font-semibold">${item.title}</h4><p class="text-sm text-${item.color}-600 font-medium capitalize">${item.type}</p></div>
                                    <i data-lucide="arrow-right" class="w-5 h-5 text-slate-400 flex-shrink-0"></i>
                                </div>
                                <p class="text-xs text-slate-500 mt-2">${userCount} orang sedang menggunakan</p>
                            </div>`;
            });
            content += </div>;
            container.innerHTML = content;
        }

        document.addEventListener('DOMContentLoaded', () => { 
            populateHotServices();
            lucide.createIcons();
            searchMentorBtn.addEventListener('click', () => { if (!featureForm.checkValidity()) { featureForm.reportValidity(); return; } featureFormContainer.classList.add('hidden'); mentorResults.classList.remove('hidden'); filterAndDisplayMentors(); });
            document.getElementById('csSendBtn').addEventListener('click', handleCsChat);
            document.getElementById('csChatInput').addEventListener('keypress', (e) => { if (e.key === 'Enter') handleCsChat(); });

            // Make the script executable by attaching functions to window
            window.showAuthPage = showAuthPage;
            window.login = login;
            window.logout = logout;
            window.showPage = showPage;
            window.setupFeaturePage = setupFeaturePage;
            window.openHotService = openHotService;
            window.filterAndDisplayMentors = filterAndDisplayMentors;
            window.resetFeaturePage = resetFeaturePage;
            window.showNotification = showNotification;
            window.openShareModal = openShareModal;
            window.closeShareModal = closeShareModal;
            window.copyShareLink = copyShareLink;
            window.openProfileModal = openProfileModal;
            window.closeProfileModal = closeProfileModal;
            window.showPaymentPage = showPaymentPage;
            window.processPayment = processPayment;
            window.confirmPayment = confirmPayment;
            window.submitMentorForm = submitMentorForm;
            window.handleCsChat = handleCsChat;
            window.showMentorRegisterForm = showMentorRegisterForm;
            window.showMentorRegisterSelection = showMentorRegisterSelection;
        });
    </script>
</body>
</html>
